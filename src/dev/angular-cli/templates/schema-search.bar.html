			<%_ let showSearchBox = false; let stringBoxFields = []; let noMoreSearchArea = true;
			    for (let field of briefView){
					if (field.hidden) continue;
					if (listCategoryFieldsNotShown.includes(field.fieldName)) continue;
					if (field.picture) continue;

					if (field.type === 'AngularSelector') {
						continue;
					}

			        if(field.type == 'SchemaString' && !ownSearchStringFields.includes(field.fieldName)) {
						showSearchBox = true;
						stringBoxFields.push(field.displayname);
					} else {noMoreSearchArea = false;}
				}
				if (api.includes('A') && listActionButtons[3]) {
					noMoreSearchArea = false;
				}
			%><%_ if (showSearchBox) { %>
			    <div class="input-group">
	              <input type="search" class="form-control border border-secondary" id="<%-schemaName%>TextSearch" 
						#<%-schemaName%>TextSearch [(ngModel)]="searchText"
						(keydown.enter)="$event.target.blur();searchList();false"
					    placeholder="Search for <%for (let [idx,nm] of stringBoxFields.entries()){%><%if (idx!=0) {%>, <%}%><%-nm%><%}%>"> 
				  <div *ngIf="searchText" class="input-group-append icon-clear-inside">
					<span >
					    <i class="fas fa-times-circle" (click)="onSearchTextClear()" title="Clear"></i>
				    </span>
				  </div>
				  <div class="input-group-append">
				    <button type="button" class="btn btn-outline-secondary" (click)="searchList()"><i class="fas fa-search"></i></button>
				  </div>
				</div>
			<%}%><%_ if (typeof noMoreSearchArea == 'undefined' || !noMoreSearchArea) { %>
				<div class="text-center">
                    <span  class="pointer" (click)="toggleMoreSearch()">
                        <span class="refine-search-text">Refine Search &nbsp;</span>
                        <span>
                            <i *ngIf="!moreSearchOpened"  class="fas fa-plus-circle" title="More"></i>
                            <i *ngIf="moreSearchOpened" class="fas fa-minus-circle"  title="Less"></i>
                        </span>
                    </span>
				</div>
			    <div class="shadow" *ngIf="moreSearchOpened">
					<div class="card">
						<div class="card-body">
							<div class="d-flex flex-wrap">
								<%_ briefView.forEach( (field) => {
									if (field.hidden) return;
									if (listCategoryFieldsNotShown.includes(field.fieldName)) return;
									if (field.type == 'SchemaString' && !ownSearchStringFields.includes(field.fieldName)) return;
									if (field.type === 'AngularSelector') {
										return;
									}
									let fn=field.fieldName, fD=field.displayName, Fn=field.FieldName, sn=schemaName, Sn=SchemaName, mn=moduleName, Mn=ModuleName;
									%> <%_ include schema-search.field.html %> 
								<%_ }) %>
							</div>
							<%_ if(api.includes('A') && listActionButtons[3]) {%>
							<hr>
							<div class="one-column-search mt-3">
								<div class="row">
								  	<div class="col-3"><label for="Archived">Archived</label></div>
								  	<div class="col-8">
										<label class="mr-1">No</label>
										<label class="switch">
											<input type="checkbox"
												[(ngModel)]="detail['archived']"
		        								#EditArchived="ngModel">
											<span class="slider round"></span>
										</label>
										<label class="ml-1">Yes</label>
									</div>
								</div>
							</div>
							<hr><%}%>

							<div class="action-buttons">
									<button type="button" class="btn btn-outline-success" (click)="onSearchClear()">Reset</button>
									<button type="button" class="btn btn-success" (click)="searchList()">Search</button>
							</div>
						</div>
					</div>
		        </div>
		        <div *ngIf="!moreSearchOpened" style="text-align: left;">
					<span class="badge badge-pill badge-info" *ngFor="let value of searchMoreDetail">
					    <a (click)="toggleMoreSearch()" class="pointer"> {{value[0]}}: {{value[1]}}</a>
					    <i class="fas fa-times-circle icon-clear-badge" (click)="clearValueFromDetailAndSearchList(value[2])" title="Clear"></i>
					</span>
				</div>
		    <%}%>

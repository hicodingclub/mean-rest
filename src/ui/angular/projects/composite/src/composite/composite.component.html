<div>
    <h3 class="mt-3">Class Enrollment:</h3>

    <div *ngFor="let step of steps; index as idx;">
        <h4 class="mt-3">{{idx + 1}}. {{step.stepName}}</h4>
        <ng-template composite-directive></ng-template>
        <div class="error-message" *ngIf="errorMessages[idx]">{{step.errorMessage}}</div>
    </div>

    <div class="action-buttons-center mt-3">
        <button class="btn btn-success" 
            (click)="onSubmit()">Submit</button>
        <button class="btn btn-outline-success" 
            type="button" (click)="onCancel()">Cancel</button>
        
        <div *ngIf="submitting && !allActionsReady()" class="error-message">Please check and fix all errors before submitting.</div>
   </div>

   <div style="display: none;">
        <ng-template composite-submit-directive></ng-template>
    </div>
</div>